import{u as g,a as b,j as r,B as u,C as f,T as s,b as v,G as t,c as i,S as o,H as S}from"./index-DPVKpS60.js";function L(){const{data:e,error:x,isLoading:c}=g("admin/statistics",()=>b.get("admin/statistics").then(a=>a.data));return{statistics:e==null?void 0:e.data,isLoading:c,error:x}}function w(){var d,l,h,m,j;const{statistics:e,isLoading:x,error:c}=L(),a=n=>(n||0).toLocaleString(),p=n=>n?n>=1e6?`${(n/1e6).toFixed(1)}M ₽`:n>=1e3?`${(n/1e3).toFixed(1)}K ₽`:`${n} ₽`:"0 ₽";return e!=null&&e.ordersByMonth.map(n=>({name:new Date(n.month).toLocaleDateString("ru-RU",{month:"short"}),orders:Number(n.count)})),x?r.jsx(u,{sx:{display:"flex",justifyContent:"center",p:3},children:r.jsx(f,{})}):c?r.jsx(u,{sx:{p:3},children:r.jsx(s,{color:"error",children:"Ошибка при загрузке данных"})}):r.jsxs(v,{maxWidth:"xl",children:[r.jsx(s,{variant:"h4",sx:{mb:5},children:"Статистика"}),r.jsxs(t,{container:!0,spacing:3,children:[r.jsx(t,{item:!0,xs:12,sm:6,md:3,children:r.jsx(i,{sx:{p:3},children:r.jsxs(o,{spacing:1,children:[r.jsx(s,{variant:"subtitle2",sx:{color:"text.secondary"},children:"Всего клиентов"}),r.jsx(s,{variant:"h3",children:a((d=e==null?void 0:e.summary)==null?void 0:d.totalUsers)})]})})}),r.jsx(t,{item:!0,xs:12,sm:6,md:3,children:r.jsx(i,{sx:{p:3},children:r.jsxs(o,{spacing:1,children:[r.jsx(s,{variant:"subtitle2",sx:{color:"text.secondary"},children:"Всего заказов"}),r.jsx(s,{variant:"h3",children:a((l=e==null?void 0:e.summary)==null?void 0:l.totalOrders)})]})})}),r.jsx(t,{item:!0,xs:12,sm:6,md:3,children:r.jsx(i,{sx:{p:3},children:r.jsxs(o,{spacing:1,children:[r.jsx(s,{variant:"subtitle2",sx:{color:"text.secondary"},children:"Активные заказы"}),r.jsx(s,{variant:"h3",children:a((h=e==null?void 0:e.summary)==null?void 0:h.activeOrders)})]})})}),r.jsx(t,{item:!0,xs:12,sm:6,md:3,children:r.jsx(i,{sx:{p:3},children:r.jsxs(o,{spacing:1,children:[r.jsx(s,{variant:"subtitle2",sx:{color:"text.secondary"},children:"Продажи за месяц"}),r.jsx(s,{variant:"h3",children:p((m=e==null?void 0:e.summary)==null?void 0:m.monthlySales)})]})})}),r.jsx(t,{item:!0,xs:12,children:r.jsxs(i,{sx:{p:3},children:[r.jsx(s,{variant:"h6",sx:{mb:3},children:"Текущие цены на газ"}),r.jsx(t,{container:!0,spacing:3,children:(j=e==null?void 0:e.currentPrices)==null?void 0:j.map((n,y)=>r.jsx(t,{item:!0,xs:12,sm:6,md:4,children:r.jsx(i,{sx:{p:2,bgcolor:"background.neutral"},children:r.jsxs(o,{spacing:1,children:[r.jsxs(s,{variant:"subtitle2",children:["от ",n.minLiters," до ",n.maxLiters," литров"]}),r.jsxs(s,{variant:"h5",children:[n.pricePerLiter," ₽/л"]})]})})},y))})]})})]})]})}function M(){return r.jsxs(r.Fragment,{children:[r.jsxs(S,{children:[r.jsx("title",{children:"Dashboard - Atg"}),r.jsx("meta",{name:"description",content:"The starting point for your next project with Minimal UI Kit, built on the newest version of Material-UI ©, ready to be customized to your style"}),r.jsx("meta",{name:"keywords",content:"react,material,kit,application,dashboard,admin,template"})]}),r.jsx(w,{})]})}export{M as default};
