import{u as g,a as f,p as C,r as d,j as e,B as x,C as w,b,S as h,T as y,I as P,q as T,c as v,s as S,P as I,v as L,w as R,x as j,y as a,z as U,H as k}from"./index-DPVKpS60.js";import{T as B}from"./TextField-DE_6BPSe.js";import"./useId-DrTdGP2W.js";function E(){var o;const{data:r,error:l,isLoading:c,mutate:t}=g("admin/users",()=>f.get("admin/users").then(n=>n==null?void 0:n.data));return{users:((o=r==null?void 0:r.data)==null?void 0:o.users)||[],isLoading:c,error:l,mutate:t}}function H(){const{users:r,isLoading:l}=E(),c=C(),[t,o]=d.useState(0),[n,W]=d.useState(10),[i,u]=d.useState(""),p=r.filter(s=>s.name.toLowerCase().includes(i.toLowerCase())||s.phone.includes(i)||s.email.toLowerCase().includes(i.toLowerCase())),m=s=>{c(`/users/${s}`)};return l?e.jsx(x,{sx:{display:"flex",justifyContent:"center",p:3},children:e.jsx(w,{})}):e.jsx(b,{maxWidth:"lg",children:e.jsxs(h,{spacing:3,children:[e.jsxs(h,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:[e.jsx(y,{variant:"h4",children:"Пользователи"}),e.jsx(x,{sx:{width:500},children:e.jsx(B,{fullWidth:!0,value:i,onChange:s=>u(s.target.value),placeholder:"Поиск по имени, телефону или email...",InputProps:{startAdornment:e.jsx(P,{position:"start",children:e.jsx(T,{icon:"eva:search-fill"})})}})})]}),e.jsx(v,{children:e.jsx(S,{component:I,children:e.jsxs(L,{children:[e.jsx(R,{children:e.jsxs(j,{children:[e.jsx(a,{children:"ID"}),e.jsx(a,{children:"Имя"}),e.jsx(a,{children:"Телефон"}),e.jsx(a,{children:"Email"}),e.jsx(a,{children:"Баланс"})]})}),e.jsx(U,{children:p.slice(t*n,t*n+n).map(s=>e.jsxs(j,{hover:!0,onClick:()=>m(s.id),sx:{cursor:"pointer"},children:[e.jsx(a,{children:s.id}),e.jsx(a,{children:s.name}),e.jsx(a,{children:s.phone}),e.jsx(a,{children:s.email}),e.jsxs(a,{children:[s.balance," руб."]})]},s.id))})]})})})]})})}function q(){return e.jsxs(e.Fragment,{children:[e.jsx(k,{children:e.jsx("title",{children:"Пользователи"})}),e.jsx(H,{})]})}export{q as default};
